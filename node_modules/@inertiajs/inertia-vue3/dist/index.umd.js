!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("@inertiajs/inertia")):"function"==typeof define&&define.amd?define(["exports","vue","@inertiajs/inertia"],t):t((e=e||self).InertiaVue={},e.Vue,e.Inertia)}(this,function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o={props:{as:{type:String,default:"a"},data:{type:Object,default:function(){return{}}},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:function(){return[]}},headers:{type:Object,default:function(){return{}}}},setup:function(e,o){var i=o.slots,a=o.attrs;return function(e){var o=e.as.toLowerCase(),u=e.method.toLowerCase(),s=r.mergeDataIntoQueryString(u,r.hrefToUrl(e.href),e.data),l=s[0],p=s[1];return"a"===o&&"get"!==u&&console.warn('Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<inertia-link href="'+l.href+'" method="'+u+'" as="button">...</inertia-link>'),t.h(e.as,n({},a,"a"===o?{href:l.href}:{},{onClick:function(t){var n;r.shouldIntercept(t)&&(t.preventDefault(),r.Inertia.visit(l.href,{data:p,method:u,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:null!=(n=e.preserveState)?n:"get"!==u,only:e.only,headers:e.headers,onCancelToken:a.onCancelToken||function(){return{}},onBefore:a.onBefore||function(){return{}},onStart:a.onStart||function(){return{}},onProgress:a.onProgress||function(){return{}},onFinish:a.onFinish||function(){return{}},onCancel:a.onCancel||function(){return{}},onSuccess:a.onSuccess||function(){return{}}}))}}),i.default())}}},i={created:function(){var e=this;if(this.$options.remember){Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),"string"==typeof this.$options.remember&&(this.$options.remember={data:[this.$options.remember]}),"string"==typeof this.$options.remember.data&&(this.$options.remember={data:[this.$options.remember.data]});var t=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,o=r.Inertia.restore(t);this.$options.remember.data.forEach(function(i){void 0!==o&&void 0!==o[i]&&(e[i]=o[i]),e.$watch(i,function(){r.Inertia.remember(e.$options.remember.data.reduce(function(t,r){var o;return n({},t,((o={})[r]=JSON.parse(JSON.stringify(e[r])),o))},{}),t)},{immediate:!0,deep:!0})})}}},a=t.ref(null),u=t.ref({}),s=t.ref(null),l={name:"Inertia",props:{initialPage:{type:Object,required:!0},resolveComponent:{type:Function,required:!0},transformProps:{type:Function,default:function(e){return e}}},setup:function(e){return r.Inertia.init({initialPage:e.initialPage,resolveComponent:e.resolveComponent,transformProps:e.transformProps,swapComponent:function(e){try{return a.value=t.markRaw(e.component),u.value=e.page,s.value=e.preserveState?s.value:Date.now(),Promise.resolve()}catch(e){return Promise.reject(e)}}}),function(){if(a.value){var e=t.h(a.value,n({},u.value.props,{key:s.value}));return a.value.layout?"function"==typeof a.value.layout?a.value.layout(t.h,e):Array.isArray(a.value.layout)?a.value.layout.concat(e).reverse().reduce(function(e,r){return t.h(r,[e])}):t.h(a.value.layout,function(){return e}):e}}}},p={install:function(e){Object.defineProperty(e.config.globalProperties,"$inertia",{get:function(){return r.Inertia}}),Object.defineProperty(e.config.globalProperties,"$page",{get:function(){return u.value}}),e.mixin(i),e.component("InertiaLink",o)}};e.App=l,e.Link=o,e.app=l,e.link=o,e.plugin=p,e.usePage=function(){return{props:t.computed(function(){return u.value.props}),url:t.computed(function(){return u.value.url}),component:t.computed(function(){return u.value.component}),version:t.computed(function(){return u.value.version})}}});
//# sourceMappingURL=index.umd.js.map
